<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=660">
        <title>Simon's Magic Uncle (.com)</title>
        <style>
        body {
            font-family: monospace;
            font-size: 16px;
            color: #bbb;
            margin: 10px;
            background-color: black;
        }
        a, a:visited {
            color: #bbb;
            text-decoration: none;
        }
        a:hover, a:focus {
            color: #ddd;
            text-decoration: underline;
        }
        .container {
            width: 640px;
            margin: 0 auto;
            text-align: center;
        }
        canvas {
            user-select: none;
        }
        #warning span {
            display: inline-block;
            margin-bottom: 3em;
        }
        #warning a {
            font-size: 1.5em;
        }
        #links {
            display: none;
        }
        #links.show {
            display: block;
            animation: fadein 1s linear;
        }
        @keyframes fadein {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        </style>
    </head>
    <body>
        <div class="container">
            <canvas id="cv" width="64" height="64"></canvas>
            <p id="warning">
                <span>simonsmagicuncle.com (works best on desktop)</span><br>
                <a href="javascript:void(0);">WARNING: Flashing lights and noise! <strong>Click!</strong></a>
            </p>
            <p id="links"><a href="https://goncalomb.com/">goncalomb.com</a> | <a href="https://yogscast.com/">The Yogscast</a></p>
        </div>
        <script type="text/javascript" src="static/tengine.js"></script>
        <script type="text/javascript" src="static/game.js"></script>
        <script type="text/javascript">
        document.querySelector('#warning a').addEventListener('click', (e) => {
            window.game = new Game(document.getElementById('cv'));
            e.currentTarget.parentElement.style.display = 'none';
            setTimeout(() => {
                document.getElementById('links').classList.add('show');
                setTimeout(() => {
                    var range = document.createRange();
                    var frag = range.createContextualFragment('<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/3Rc7zqciIqo?rel=0&amp;start=1317" frameborder="0" allow="autoplay; encrypted-media"></iframe>');
                    document.querySelector('.container').appendChild(frag);
                }, 3000);
            }, 15000);
        });
        </script>
    </body>
</html>
